apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: codebaseimagestreams.v2.edp.epam.com
spec:
  group: v2.edp.epam.com
  names:
    kind: CodebaseImageStream
    listKind: CodebaseImageStreamList
    plural: codebaseimagestreams
    singular: codebaseimagestream
    shortNames:
      - cbis
  scope: Namespaced
  subresources:
    status: {}
  version: v1alpha1
  versions:
  - name: v1alpha1
    served: true
    storage: true
  validation:
    openAPIV3Schema:
      type: object
      properties:
        spec:
          type: object
          properties:
            codebase:
              type: string
              description: 'codebase name'
            imagename:
              type: string
              description: 'docker container name without tag, e.g. registry-name/path/name'
            tags:
              type: array
              description: 'A list of docker image tags available for imagename and their creation date'
